<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>{{ twigSettings.siteTitle }} : {% block title %}{{ twigSettings.siteDescription }}{% endblock %}</title>
        {% block stylesheets %}
            <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&family=Raleway:wght@200&display=swap" rel="stylesheet">
            <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('build/images/favicons/apple-touch-icon.png') }}">
            <link rel="icon" type="image/png" sizes="32x32" href="{{ asset('build/images/favicons/favicon-32x32.png') }}">
            <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('build/images/favicons/favicon-16x16.png') }}">
            <link rel="manifest" href="{{ asset('build/images/favicons/site.webmanifest') }}">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            {{ encore_entry_link_tags('app') }}
        {% endblock %}
        {% block morestylesheets %}
        {% endblock %}
    </head>
    <body>
        {% block button %}{% endblock %}

        {% for label, messages in app.flashes %}
            <div id="flashMessage" style="position: absolute; left: 250px; width: 78vw; z-index:11">
                {% for message in messages %}
                    <div class="alert alert-{{ label }}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endfor %}

        {% include('admin/base/_topbar.html.twig') %}

        <div class="accueil-content">
        <div class="wrapper">
            {{ render(controller(
                'App\\Controller\\Admin\\DefaultController::headerAction'
            )) }}
            <div class="main_content">
                <div class="info">
                    <div class="container">
                        {% block body %}{% endblock %}
                    </div>
                </div>
            </div>
        </div>
    </div>

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
            <script>
                $(document).ready(function(){
                    setTimeout(function() {
                        $('#flashMessage').fadeOut('fast');
                    }, 5000);
                });
                $(function () {
                    $('[data-toggle="tooltip"]').tooltip()
                })
            </script>
            <script>
                $(document).on('change', '.custom-file-input', function () {
                    let fileName = $(this).val().replace(/\\/g, '/').replace(/.*\//, '');
                    $(this).parent('.custom-file').find('.custom-file-label').text(fileName);
                });
            </script>
        {% endblock %}

        {% block endjavascript %}
        {% endblock %}
    </body>
</html>
