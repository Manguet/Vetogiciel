<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>{{ twigSettings.siteTitle }} : {% block title %}{{ twigSettings.siteDescription }}{% endblock %}</title>
        {% block stylesheets %}
            <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&family=Raleway:wght@200&display=swap" rel="stylesheet">
            <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('build/images/favicons/apple-touch-icon.png') }}">
            <link rel="icon" type="image/png" sizes="32x32" href="{{ asset('build/images/favicons/favicon-32x32.png') }}">
            <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('build/images/favicons/favicon-16x16.png') }}">
            <link rel="manifest" href="{{ asset('build/images/favicons/site.webmanifest') }}">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            {{ encore_entry_link_tags('app') }}
        {% endblock %}
        {% block morestylesheets %}
        {% endblock %}
    </head>
    <body>

        {% block navbar %}
            {{ render(controller(
                'App\\Controller\\DefaultController::headerAction'
            )) }}
        {% endblock %}

        {% if twigClinic.getActualClinic %}
            {{ render(controller(
                'App\\Controller\\DefaultController::annonceAction',
                { 'clinic' : twigClinic.getActualClinic.id }
            )) }}
        {% endif %}

        {% block body %}{% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
            <script>

                let annonce       = $("#annonce");
                let annonceClinic = $('#annonce-clinic');

                $('#close-annonce').on('click', function () {
                    annonce.animate({opacity:0}, 700)
                    if (annonceClinic) {
                        annonceClinic.animate({'top' : 107}, 700, function() {
                            annonce.css('display', 'none');
                        })
                    }
                })
                $('#close-annonce-clinic').on('click', function () {
                    annonceClinic.animate({opacity:0}, 700, function () {
                        annonceClinic.css('display', 'none');
                    })
                })
            </script>
            <script>
                $(document).on('change', '.custom-file-input', function () {
                    let fileName = $(this).val().replace(/\\/g, '/').replace(/.*\//, '');
                    $(this).parent('.custom-file').find('.custom-file-label').text(fileName);
                });
            </script>
        {% endblock %}

        {% block endjavascript %}
        {% endblock %}
    </body>
</html>
